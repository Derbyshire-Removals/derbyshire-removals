{% macro contactForm(pageName = "Homepage", formTitle = "Get Free Quote", showWhatsAppNote = false) %}
  <div class="bg-white p-6 rounded-lg shadow-md">
    {% if formTitle %}
      <h2 class="text-2xl font-semibold text-gray-800 mb-4">{{ formTitle }}</h2>
    {% endif %}

    <!-- Contact Form -->
    <form id="contact-form" class="space-y-4">
      <input type="hidden" name="page" value="{{ pageName }}">
      <input type="hidden" name="traffic-source" id="traffic-source" value="">

      <!-- Name Field -->
      <div>
        <label for="first_name" class="block text-sm font-medium text-gray-700 mb-1">Name *</label>
        <input
          type="text"
          id="first_name"
          name="first_name"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
        >
      </div>

      <!-- Email Field -->
      <div>
        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email *</label>
        <input
          type="email"
          id="email"
          name="email"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
        >
      </div>

      <!-- Phone Field -->
      <div>
        <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone *</label>
        <input
          type="tel"
          id="phone"
          name="phone"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
        >
      </div>

      <!-- Moving From Field -->
      <div>
        <label for="mf_postcode" class="block text-sm font-medium text-gray-700 mb-1">Moving From (Postcode) *</label>
        <input
          type="text"
          id="mf_postcode"
          name="mf_postcode"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
        >
      </div>

      <!-- Moving To Field -->
      <div>
        <label for="mt_postcode" class="block text-sm font-medium text-gray-700 mb-1">Moving To (Postcode) *</label>
        <input
          type="text"
          id="mt_postcode"
          name="mt_postcode"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
        >
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        class="w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-opacity-90 transition-colors"
      >
        Submit Enquiry
      </button>
    </form>

    {% if showWhatsAppNote %}
      <p class="text-sm mt-4">
        To help assess the move, we may need to visit your house/office. Alternatively, you can send us your videos via
        <a href="https://wa.me/447425557000?text=Hi!%20I'm%20interested%20in%20your%20removal%20services.%20Can%20you%20help%20me%20with%20a%20move?%20Here%20are%20some%20details:%0A-%20Pickup%20location:%20%5BEnter%20here%5D%0A-%20Delivery%20location:%20%5BEnter%20here%5D%0A-%20Preferred%20date:%20%5BEnter%20here%5D%0A-%20Additional%20information:%20%5BEnter%20here%5D%0ALooking%20forward%20to%20your%20reply!" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">
          WhatsApp
        </a>.
      </p>
    {% endif %}
  </div>
{% endmacro %}
